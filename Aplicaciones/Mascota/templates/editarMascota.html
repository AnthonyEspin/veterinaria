{% extends "plantilla.html" %}
{% block contend %}
<div class="row">
    <div class="col-md-3"></div>
    <div class="col-md-6 bg-light" style="border-radius: 15px;">
        <br>
        <h1 class="text-center">Editar Mascota</h1>
        <br>
        <form id="editarMascotaForm" action="/ProcesarMascota" method="POST">
            {% csrf_token %}
            <input type="hidden" name="id" value="{{ mascota.id }}">
            <label>Nombre</label>
            <input class="form-control" type="text" name="nombre" value="{{ mascota.nombre }}" required>
            <br>
            <label>Especie</label>
            <input class="form-control" type="text" name="especie" value="{{ mascota.especie }}" required>
            <br>
            <label>Raza</label>
            <input class="form-control" type="text" name="raza" value="{{ mascota.raza }}" required>
            <br>
            <label>Edad</label>
            <input class="form-control" type="number" name="edad" value="{{ mascota.edad }}" required>
            <br>
            <label>Peso (kg)</label>
            <input class="form-control" type="number" name="peso" step="0.01" value="{{ peso }}" required>
            <br>
            <label>Propietario</label>
            <input class="form-control" type="text" name="propietario" value="{{ mascota.propietario }}" required>
            <br><br>
            <button type="button" onclick="confirmarEdicion()" class="btn btn-success">Guardar</button>
            <a href="/" class="btn btn-outline-danger">Cancelar</a>
            <br><br>
        </form>
    </div>
</div>
<script>
    function confirmarEdicion() {
        Swal.fire({
            title: '¿Estás seguro?',
            text: '¿Deseas actualizar esta Mascota?',
            icon: 'info',
            showCancelButton: true,
            confirmButtonColor: "#3085d6",
            cancelButtonColor: "#d33",
            confirmButtonText: 'Sí',
            cancelButtonText: 'Cancelar'
        }).then((result) => {
            if (result.isConfirmed) {
                document.getElementById('editarMascotaForm').submit();
            }
        });
    }
</script>
{% endblock %}
